<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Hospital Summary Generator - Update User Management">
    <title>Update User | Hospital Dashboard</title>
    
    <!-- Fonts and Styles -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='admin.css') }}" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='fevicon.png') }}">
    
    <!-- Animation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js" defer></script>
</head>

<body class="admin-page">
    <main class="container mt-5 admin-container">
        <header class="page-header mb-4 fade-in">
            <div class="d-flex justify-content-between align-items-center">
                <h1 class="admin-heading">Update User</h1>
                <nav class="admin-nav">
                    <a href="{{ url_for('admin') }}" class="button button-secondary">
                        <span>Back to Admin</span>
                    </a>
                </nav>
            </div>
        </header>

        <section class="card update-user-section mb-5 slide-up">
            <div class="card-body p-4">
                <h2 class="section-heading h4 mb-4">Edit User Details</h2>
                
                <form method="POST" 
                      action="{{ url_for('update_user', user_id=user[0]) }}" 
                      class="update-user-form">
                    
                    <div class="form-group mb-4">
                        <div class="form-floating">
                            <input type="text" 
                                   id="username" 
                                   name="username" 
                                   class="form-control" 
                                   value="{{ user[1] }}" 
                                   placeholder="Username"
                                   required>
                            <label for="username">Username</label>
                        </div>
                    </div>

                    <div class="form-group mb-4">
                        <div class="form-floating">
                            <input type="password" 
                                   id="password" 
                                   name="password" 
                                   class="form-control"
                                   placeholder="Password">
                            <label for="password">Password</label>
                            <small class="form-text text-muted">Leave blank to keep current password</small>
                        </div>
                    </div>

                    <div class="form-group mb-4">
                        <div class="form-floating">
                            <select id="role" 
                                    name="role" 
                                    class="form-select" 
                                    required>
                                <option value="user" {% if user[2] == 'user' %}selected{% endif %}>User</option>
                                <option value="admin" {% if user[2] == 'admin' %}selected{% endif %}>Admin</option>
                            </select>
                            <label for="role">Role</label>
                        </div>
                    </div>

                    <div class="form-actions d-flex justify-content-end gap-3">
                        <a href="{{ url_for('admin') }}" class="button button-secondary">
                            <span>Cancel</span>
                        </a>
                        <button type="submit" class="button button-primary">
                            <span>Update User</span>
                        </button>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <script src="static/admin.js"></script>
</body>
</html>